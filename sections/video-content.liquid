<style>
  #video-container.section-{{section.id}}{
    position: relative;
    padding-bottom: {{ section.settings.ratio }}%;
	height: 0;
	overflow: hidden;
	max-width: 100%;
    margin: 30px auto;
  }
  
  
  #video-container iframe{
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

</style>
{% assign videoId = '' %}
{% if section.settings.url contains '?v=' %}
	{% assign videoId = section.settings.url | split: '?v=' | last %}
{% elsif section.settings.url contains 'embed/' %}
	{% assign videoId = section.settings.url | split: 'embed/' | last %}
{% endif %}
<div class="container">
  <div id="video-container" class="section-{{section.id}}">
    <iframe src="https://www.youtube.com/embed/{{ videoId }}" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0"></iframe>
  </div>
</div>
{% schema %}
  {
	"class": "video-content",
    "name": "Embedded Video",
    "settings": [
	  {
		"type": "text",
		"id": "url",
		"label": "URL",
		"default": "https://www.youtube.com/embed/R2BBVbQEu4I"
	  },
	  {
		"type": "select",
		"id": "ratio",
		"label":     "Video Ratio",
        "options": [
			{
              "value": "100",
              "label": "1:1"
            },
			{
              "value": "75.09",
              "label": "4:3"
            },
            {
              "value": "56.25",
              "label": "16:9"
            },
			{
              "value": "42.19",
              "label": "2.35:1"
            }
        ],
        "default":   "56.25"
	  }
	],
	"presets": [
	  {
		"name": "Embedded Video",
		"category": "Video"
	  }
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
